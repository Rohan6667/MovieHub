import{S as he,i as _e,s as pe,e as p,t as j,c as g,a as b,h as M,d as f,b as h,g as A,H as o,J as ge,j as z,k as P,m as q,G as oe,_ as ie,w as be,x as we,y as De,q as F,P as Ie,o as L,B as ke,a4 as Ve,p as $e,a0 as ye,Q as Be,R as Pe,n as qe}from"../../chunks/vendor-f9e5854b.js";import{v as Ee}from"../../chunks/variables-4b6f5b78.js";import{M as Re}from"../../chunks/MoviePreview-f88e5efc.js";const ce=Ee.movieUrl,de={Accept:"application/json",Authorization:`Bearer ${Ee.movieToken}`},fe={getDetail:async r=>{try{return await fetch(`${ce}/person/${r}`,{headers:de})}catch(e){return e}},getCredits:async r=>{try{return await fetch(`${ce}/person/${r}/movie_credits`,{headers:de})}catch(e){return e}}};function ue(r){let e,a,l=r[1]?"Read less":"Read more",n,t,c;return{c(){e=p("div"),a=p("button"),n=j(l),this.h()},l(v){e=g(v,"DIV",{class:!0});var u=b(e);a=g(u,"BUTTON",{class:!0});var k=b(a);n=M(k,l),k.forEach(f),u.forEach(f),this.h()},h(){h(a,"class","text-sm text-gray hover:text-white transition-all"),h(e,"class","text-center")},m(v,u){A(v,e,u),o(e,a),o(a,n),t||(c=ge(a,"click",r[4]),t=!0)},p(v,u){u&2&&l!==(l=v[1]?"Read less":"Read more")&&z(n,l)},d(v){v&&f(e),t=!1,c()}}}function je(r){let e,a,l,n,t,c,v=r[0].known_for_department+"",u,k,V,E=r[0].name+"",i,G,s,d,I,m=r[3](r[0].birthday)+"",y,C,B,S,H=r[0].place_of_birth+"",J,W,$,U,N=r[0].biography+"",O,Q,X,T,K,Z,ee,ae,w=r[2]&&ue(r);return{c(){e=p("div"),a=p("img"),n=P(),t=p("div"),c=p("div"),u=j(v),k=P(),V=p("div"),i=j(E),G=P(),s=p("div"),d=p("div"),I=j("*"),y=j(m),C=P(),B=p("span"),S=j("in "),J=j(H),W=P(),$=p("div"),U=p("p"),O=j(N),X=P(),T=p("div"),Z=P(),w&&w.c(),this.h()},l(_){e=g(_,"DIV",{class:!0});var D=b(e);a=g(D,"IMG",{class:!0,src:!0,alt:!0}),n=q(D),t=g(D,"DIV",{class:!0});var R=b(t);c=g(R,"DIV",{class:!0});var se=b(c);u=M(se,v),se.forEach(f),k=q(R),V=g(R,"DIV",{class:!0});var re=b(V);i=M(re,E),re.forEach(f),G=q(R),s=g(R,"DIV",{class:!0});var le=b(s);d=g(le,"DIV",{});var Y=b(d);I=M(Y,"*"),y=M(Y,m),C=q(Y),B=g(Y,"SPAN",{});var te=b(B);S=M(te,"in "),J=M(te,H),te.forEach(f),Y.forEach(f),le.forEach(f),W=q(R),$=g(R,"DIV",{class:!0});var x=b($);U=g(x,"P",{class:!0});var ne=b(U);O=M(ne,N),ne.forEach(f),X=q(x),T=g(x,"DIV",{class:!0}),b(T).forEach(f),Z=q(x),w&&w.l(x),x.forEach(f),R.forEach(f),D.forEach(f),this.h()},h(){h(a,"class","h-48 sm:h-56 mt-1"),oe(a.src,l="https://image.tmdb.org/t/p/w300"+r[0].profile_path)||h(a,"src",l),h(a,"alt","poster"),h(c,"class","text-sm mt-4 sm:mt-0"),h(V,"class","text-4xl font-secondary font-bold"),h(s,"class","text-xs flex items-center space-x-1 text-gray font-medium"),h(U,"class",Q="mt-2 "+(r[1]?"line-clamp-none":"line-clamp-6")),h(T,"class",K=(!r[1]&&r[2]&&"bg-gradient-to-t from-dark to-transparent")+" h-16 absolute w-full -mt-16"),h($,"class","max-w-2xl relative select-none"),h(t,"class","flex flex-col dark:text-light"),h(e,"class","sm:flex items-top sm:space-x-4 z-20 bg-dark py-6 px-2 sm:px-0 text-white")},m(_,D){A(_,e,D),o(e,a),o(e,n),o(e,t),o(t,c),o(c,u),o(t,k),o(t,V),o(V,i),o(t,G),o(t,s),o(s,d),o(d,I),o(d,y),o(d,C),o(d,B),o(B,S),o(B,J),o(t,W),o(t,$),o($,U),o(U,O),o($,X),o($,T),o($,Z),w&&w.m($,null),ee||(ae=ge(a,"error",Me),ee=!0)},p(_,[D]){D&1&&!oe(a.src,l="https://image.tmdb.org/t/p/w300"+_[0].profile_path)&&h(a,"src",l),D&1&&v!==(v=_[0].known_for_department+"")&&z(u,v),D&1&&E!==(E=_[0].name+"")&&z(i,E),D&1&&m!==(m=_[3](_[0].birthday)+"")&&z(y,m),D&1&&H!==(H=_[0].place_of_birth+"")&&z(J,H),D&1&&N!==(N=_[0].biography+"")&&z(O,N),D&2&&Q!==(Q="mt-2 "+(_[1]?"line-clamp-none":"line-clamp-6"))&&h(U,"class",Q),D&6&&K!==(K=(!_[1]&&_[2]&&"bg-gradient-to-t from-dark to-transparent")+" h-16 absolute w-full -mt-16")&&h(T,"class",K),_[2]?w?w.p(_,D):(w=ue(_),w.c(),w.m($,null)):w&&(w.d(1),w=null)},i:ie,o:ie,d(_){_&&f(e),w&&w.d(),ee=!1,ae()}}}const Me=r=>r.target.src="/img/mesh.png";function Se(r,e,a){let l,{person:n}=e,t=!1;const c=u=>new Date(u).getFullYear(),v=()=>a(1,t=!t);return r.$$set=u=>{"person"in u&&a(0,n=u.person)},r.$$.update=()=>{r.$$.dirty&1&&a(2,l=n.biography.length>400)},[n,t,l,c,v]}class Ue extends he{constructor(e){super();_e(this,e,Se,je,pe,{person:0})}}function me(r,e,a){const l=r.slice();return l[2]=e[a],l[4]=a,l}function ve(r){let e,a,l,n;return a=new Re({props:{movie:r[2]}}),{c(){e=p("div"),be(a.$$.fragment)},l(t){e=g(t,"DIV",{});var c=b(e);we(a.$$.fragment,c),c.forEach(f)},m(t,c){A(t,e,c),De(a,e,null),n=!0},p(t,c){const v={};c&2&&(v.movie=t[2]),a.$set(v)},i(t){n||(F(a.$$.fragment,t),l||Ie(()=>{l=Be(e,Pe,{duration:300,delay:r[4]*100}),l.start()}),n=!0)},o(t){L(a.$$.fragment,t),n=!1},d(t){t&&f(e),ke(a)}}}function Ae(r){let e,a,l,n,t,c,v,u,k,V;document.title=e=r[0].name,c=new Ue({props:{person:r[0]}});let E=r[1].cast,i=[];for(let s=0;s<E.length;s+=1)i[s]=ve(me(r,E,s));const G=s=>L(i[s],1,1,()=>{i[s]=null});return{c(){a=P(),l=p("div"),n=p("div"),t=p("div"),be(c.$$.fragment),v=P(),u=p("div"),k=p("div");for(let s=0;s<i.length;s+=1)i[s].c();this.h()},l(s){Ve('[data-svelte="svelte-1xgqlr4"]',document.head).forEach(f),a=q(s),l=g(s,"DIV",{});var I=b(l);n=g(I,"DIV",{class:!0});var m=b(n);t=g(m,"DIV",{class:!0});var y=b(t);we(c.$$.fragment,y),y.forEach(f),m.forEach(f),I.forEach(f),v=q(s),u=g(s,"DIV",{class:!0});var C=b(u);k=g(C,"DIV",{class:!0});var B=b(k);for(let S=0;S<i.length;S+=1)i[S].l(B);B.forEach(f),C.forEach(f),this.h()},h(){h(t,"class","sm:container"),h(n,"class","bg-dark"),h(k,"class","grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-2"),h(u,"class","container mt-2")},m(s,d){A(s,a,d),A(s,l,d),o(l,n),o(n,t),De(c,t,null),A(s,v,d),A(s,u,d),o(u,k);for(let I=0;I<i.length;I+=1)i[I].m(k,null);V=!0},p(s,[d]){(!V||d&1)&&e!==(e=s[0].name)&&(document.title=e);const I={};if(d&1&&(I.person=s[0]),c.$set(I),d&2){E=s[1].cast;let m;for(m=0;m<E.length;m+=1){const y=me(s,E,m);i[m]?(i[m].p(y,d),F(i[m],1)):(i[m]=ve(y),i[m].c(),F(i[m],1),i[m].m(k,null))}for(qe(),m=E.length;m<i.length;m+=1)G(m);$e()}},i(s){if(!V){F(c.$$.fragment,s);for(let d=0;d<E.length;d+=1)F(i[d]);V=!0}},o(s){L(c.$$.fragment,s),i=i.filter(Boolean);for(let d=0;d<i.length;d+=1)L(i[d]);V=!1},d(s){s&&f(a),s&&f(l),ke(c),s&&f(v),s&&f(u),ye(i,s)}}}async function Ge({params:r}){var n,t;const e=r.id,[a,l]=await Promise.allSettled([fe.getDetail(e),fe.getCredits(e)]);return{maxage:0,props:{person:((n=a.value)==null?void 0:n.ok)&&await a.value.json(),credits:((t=l.value)==null?void 0:t.ok)&&await l.value.json()}}}function Ce(r,e,a){let{person:l,credits:n}=e;return r.$$set=t=>{"person"in t&&a(0,l=t.person),"credits"in t&&a(1,n=t.credits)},[l,n]}class He extends he{constructor(e){super();_e(this,e,Ce,Ae,pe,{person:0,credits:1})}}export{He as default,Ge as load};
