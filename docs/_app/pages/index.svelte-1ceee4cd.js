import{S as J,i as K,s as L,e as v,w as z,k as y,t as N,c as d,a as p,x as A,d as u,m as x,h as O,b as m,U as ae,g as R,G as f,y as B,j as Z,q as M,o as U,B as G,V as ie,W as ce,X as fe,v as ue,l as le,n as me,p as ve,Y as de,Z as ge,_ as he,$ as pe,a0 as _e}from"../chunks/vendor-94fb85a0.js";import{R as $e,m as re,M as se}from"../chunks/MovieSection-e9a96923.js";function we(n){let t,a,l,e,s,r,o,i,g=n[0].title+"",q,D,b,S=n[1](n[0].release_date)+"",F,E,I,c=n[0].overview+"",_,V,w,j,$,Y,W,P;return s=new $e({props:{value:n[0].vote_average}}),{c(){t=v("a"),a=v("div"),l=v("div"),e=v("div"),z(s.$$.fragment),r=y(),o=v("div"),i=v("div"),q=N(g),D=y(),b=v("div"),F=N(S),E=y(),I=v("p"),_=N(c),V=y(),w=v("div"),j=y(),$=v("img"),this.h()},l(h){t=d(h,"A",{href:!0,class:!0});var k=p(t);a=d(k,"DIV",{class:!0});var H=p(a);l=d(H,"DIV",{class:!0});var X=p(l);e=d(X,"DIV",{class:!0});var Q=p(e);A(s.$$.fragment,Q),Q.forEach(u),r=x(X),o=d(X,"DIV",{class:!0});var C=p(o);i=d(C,"DIV",{class:!0});var T=p(i);q=O(T,g),T.forEach(u),D=x(C),b=d(C,"DIV",{class:!0});var ee=p(b);F=O(ee,S),ee.forEach(u),E=x(C),I=d(C,"P",{class:!0});var te=p(I);_=O(te,c),te.forEach(u),C.forEach(u),X.forEach(u),V=x(H),w=d(H,"DIV",{class:!0}),p(w).forEach(u),j=x(H),$=d(H,"IMG",{class:!0,src:!0,alt:!0}),H.forEach(u),k.forEach(u),this.h()},h(){m(e,"class","p-6"),m(i,"class","text-6xl font-secondary font-bold group-hover:text-6xl transition-all"),m(b,"class","text-sm"),m(I,"class","font-light max-w-xl line-clamp-3 leading-snug"),m(o,"class","p-6 flex flex-col space-y-1"),m(l,"class","absolute flex flex-col justify-between w-full h-full z-20 text-light"),m(w,"class","bg-gradient-to-tr from-dark to-transparent mix-blend-multiply absolute z-10 w-full h-full transition-all group-hover:opacity-50"),m($,"class","object-cover object-center bg-light w-full h-80 sm:h-[32rem] group-hover:scale-105 transition-all duration-200"),ae($.src,Y="https://image.tmdb.org/t/p/original"+n[0].backdrop_path)||m($,"src",Y),m($,"alt","poster"),m(a,"class","relative group"),m(t,"href",W="/"+n[0].id),m(t,"class","bg-light dark:bg-gray-dark dark:text-gray-light")},m(h,k){R(h,t,k),f(t,a),f(a,l),f(l,e),B(s,e,null),f(l,r),f(l,o),f(o,i),f(i,q),f(o,D),f(o,b),f(b,F),f(o,E),f(o,I),f(I,_),f(a,V),f(a,w),f(a,j),f(a,$),P=!0},p(h,[k]){const H={};k&1&&(H.value=h[0].vote_average),s.$set(H),(!P||k&1)&&g!==(g=h[0].title+"")&&Z(q,g),(!P||k&1)&&S!==(S=h[1](h[0].release_date)+"")&&Z(F,S),(!P||k&1)&&c!==(c=h[0].overview+"")&&Z(_,c),(!P||k&1&&!ae($.src,Y="https://image.tmdb.org/t/p/original"+h[0].backdrop_path))&&m($,"src",Y),(!P||k&1&&W!==(W="/"+h[0].id))&&m(t,"href",W)},i(h){P||(M(s.$$.fragment,h),P=!0)},o(h){U(s.$$.fragment,h),P=!1},d(h){h&&u(t),G(s)}}}function be(n,t,a){let{movie:l}=t;const e=s=>new Date(s).getFullYear();return n.$$set=s=>{"movie"in s&&a(0,l=s.movie)},[l,e]}class Ee extends J{constructor(t){super();K(this,t,be,we,L,{movie:0})}}function oe(n,t,a){const l=n.slice();return l[2]=t[a],l}function De(n){let t,a,l,e,s;return a=new Ee({props:{movie:n[2]}}),{c(){t=v("div"),z(a.$$.fragment),e=y()},l(r){t=d(r,"DIV",{});var o=p(t);A(a.$$.fragment,o),o.forEach(u),e=x(r)},m(r,o){R(r,t,o),B(a,t,null),R(r,e,o),s=!0},p(r,o){const i={};o&1&&(i.movie=r[2]),a.$set(i)},i(r){s||(M(a.$$.fragment,r),l||he(()=>{l=pe(t,_e,{duration:1e3}),l.start()}),s=!0)},o(r){U(a.$$.fragment,r),s=!1},d(r){r&&u(t),G(a),r&&u(e)}}}function ne(n){let t,a;return t=new ge({props:{$$slots:{default:[De]},$$scope:{ctx:n}}}),{c(){z(t.$$.fragment)},l(l){A(t.$$.fragment,l)},m(l,e){B(t,l,e),a=!0},p(l,e){const s={};e&33&&(s.$$scope={dirty:e,ctx:l}),t.$set(s)},i(l){a||(M(t.$$.fragment,l),a=!0)},o(l){U(t.$$.fragment,l),a=!1},d(l){G(t,l)}}}function Ie(n){let t,a,l=n[0].results,e=[];for(let r=0;r<l.length;r+=1)e[r]=ne(oe(n,l,r));const s=r=>U(e[r],1,1,()=>{e[r]=null});return{c(){for(let r=0;r<e.length;r+=1)e[r].c();t=le()},l(r){for(let o=0;o<e.length;o+=1)e[o].l(r);t=le()},m(r,o){for(let i=0;i<e.length;i+=1)e[i].m(r,o);R(r,t,o),a=!0},p(r,o){if(o&1){l=r[0].results;let i;for(i=0;i<l.length;i+=1){const g=oe(r,l,i);e[i]?(e[i].p(g,o),M(e[i],1)):(e[i]=ne(g),e[i].c(),M(e[i],1),e[i].m(t.parentNode,t))}for(me(),i=l.length;i<e.length;i+=1)s(i);ve()}},i(r){if(!a){for(let o=0;o<l.length;o+=1)M(e[o]);a=!0}},o(r){e=e.filter(Boolean);for(let o=0;o<e.length;o+=1)U(e[o]);a=!1},d(r){de(e,r),r&&u(t)}}}function Ve(n){let t,a,l;return a=new ie({props:{modules:[ce,fe],effect:"fade",autoplay:{delay:5e3,disableOnInteraction:!1},speed:750,slidesPerView:1,$$slots:{default:[Ie]},$$scope:{ctx:n}}}),{c(){t=v("div"),z(a.$$.fragment),this.h()},l(e){t=d(e,"DIV",{class:!0});var s=p(t);A(a.$$.fragment,s),s.forEach(u),this.h()},h(){m(t,"class","xl:container")},m(e,s){R(e,t,s),B(a,t,null),l=!0},p(e,[s]){const r={};s&33&&(r.$$scope={dirty:s,ctx:e}),a.$set(r)},i(e){l||(M(a.$$.fragment,e),l=!0)},o(e){U(a.$$.fragment,e),l=!1},d(e){e&&u(t),G(a)}}}function ke(n,t,a){let{collection:l}=t,{movies:e={results:[]}}=t;return ue(()=>a(0,e=l)),n.$$set=s=>{"collection"in s&&a(1,l=s.collection),"movies"in s&&a(0,e=s.movies)},[e,l]}class ye extends J{constructor(t){super();K(this,t,ke,Ve,L,{collection:1,movies:0})}}function xe(n){let t,a,l,e,s,r,o,i,g,q,D,b,S,F,E,I;return a=new ye({props:{collection:n[1]}}),g=new se({props:{collection:n[0]}}),E=new se({props:{collection:n[1]}}),{c(){t=v("div"),z(a.$$.fragment),l=y(),e=v("div"),s=v("div"),r=v("h2"),o=N("Discover Popular Movies"),i=y(),z(g.$$.fragment),q=y(),D=v("div"),b=v("h2"),S=N("Upcoming"),F=y(),z(E.$$.fragment),this.h()},l(c){t=d(c,"DIV",{class:!0});var _=p(t);A(a.$$.fragment,_),_.forEach(u),l=x(c),e=d(c,"DIV",{class:!0});var V=p(e);s=d(V,"DIV",{});var w=p(s);r=d(w,"H2",{});var j=p(r);o=O(j,"Discover Popular Movies"),j.forEach(u),i=x(w),A(g.$$.fragment,w),w.forEach(u),q=x(V),D=d(V,"DIV",{});var $=p(D);b=d($,"H2",{});var Y=p(b);S=O(Y,"Upcoming"),Y.forEach(u),F=x($),A(E.$$.fragment,$),$.forEach(u),V.forEach(u),this.h()},h(){m(t,"class","mb-6"),m(e,"class","container space-y-6")},m(c,_){R(c,t,_),B(a,t,null),R(c,l,_),R(c,e,_),f(e,s),f(s,r),f(r,o),f(s,i),B(g,s,null),f(e,q),f(e,D),f(D,b),f(b,S),f(D,F),B(E,D,null),I=!0},p(c,[_]){const V={};_&2&&(V.collection=c[1]),a.$set(V);const w={};_&1&&(w.collection=c[0]),g.$set(w);const j={};_&2&&(j.collection=c[1]),E.$set(j)},i(c){I||(M(a.$$.fragment,c),M(g.$$.fragment,c),M(E.$$.fragment,c),I=!0)},o(c){U(a.$$.fragment,c),U(g.$$.fragment,c),U(E.$$.fragment,c),I=!1},d(c){c&&u(t),G(a),c&&u(l),c&&u(e),G(g),G(E)}}}async function Pe(){const[n,t]=await Promise.allSettled([re.getPopular(),re.getUpcoming()]);return{props:{popular:n.value.ok&&await n.value.json(),upcoming:t.value.ok&&await t.value.json()}}}function Me(n,t,a){let{popular:l,upcoming:e}=t;return n.$$set=s=>{"popular"in s&&a(0,l=s.popular),"upcoming"in s&&a(1,e=s.upcoming)},[l,e]}class He extends J{constructor(t){super();K(this,t,Me,xe,L,{popular:0,upcoming:1})}}export{He as default,Pe as load};
